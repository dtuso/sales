gbl.ns.register("domains.controls");if(!domains.controls.cds_gtld_templates){domains.controls.cds_gtld_templates=function(){var r={},e={gtld:"com",ssoSpkey:"",tldLogoImageExists:true,tldLogoImageFilePath:"",hasProductLimitations:true,watchAuthUrl:"http://example.com/endpointAuth.asmx",watchDataUrl:"http://example.com/endpointData.asmx",watchButtonFollow:"Follow",watchButtonFollowing:"Following",watchButtonUnfollow:"Unfollow",watchErrorMsg:"Unable to change your following status at this time.",gTldPreRegPhaseDataJson:[],cctldPrice:true,$lrEarlyAccessDiv:$("#lr-earlyaccess"),$lrNotEarlyAccessDiv:$("#lr-not-earlyaccess"),tldH1TagExists:true,tldMarketingContentTagExists:true,isEnMarket:false,tldLogoFileName:""},k=false,n=null,m="gtld-modalHtmlContent",p={BEFORE:1,DURING:2,CLOSED:3};function u(){$("#shareme").fosShare()}function s(){$(".g-modal-close").click(function(){$.modal.close()});$("#limitations > p > a").click(function(){$("#g-modal").modal({overlayId:"g-modal-overlay",close:"false",autoPosition:"true"})})}function i(A){var B=decodeURI((RegExp(A+"=(.+?)(&|$)").exec(location.search)||[,null])[1]);if(B=="null"){B=undefined}return B}function t(){function E(){var F=B.val();if(F===""||F===D){return}if(F.indexOf(".")>-1){$("#tld").val("")}C.submit()}if(typeof i("mgrshopper")!="undefined"){$("#gtld-domain-search-form #mgrshopper").val(i("mgrshopper"))}var C=$("#gtld-domain-search-form"),B=$("#gtld-domain-search-input"),D=B.attr("placeholder");if(typeof D=="undefined"){D=""}B.keypress(function(F){if(F.which===13){F.preventDefault();E()}});var A=$("#gtld-domain-search-btn");A.attr("href","javascript:void(0)").bind("click",E)}function v(){var A=$("#watch-button");var B=function(){A.text(r.watchButtonUnfollow)};var C=function(){A.text(r.watchButtonFollowing)};if(k===true){A.text(r.watchButtonFollowing).mouseenter(B).mouseleave(C)}else{A.text(r.watchButtonFollow).unbind().click(z)}}function z(A){if(j()===true){if(k===false){a()}else{q()}}else{w(m,false)}}function l(){var A=false;$.ajaxSetup({async:false});var B=b(r.watchDataUrl,"act=10&name="+encodeURIComponent(r.gtld));$.getJSON(B,function(C){if(C){A=C}});$.ajaxSetup({async:true});return A}function w(A,B){if(!n){$.get(r.watchAuthUrl+"/modalinit.aspx?version=7",function(C){var D=$("#"+A);if(0==D.length){D=$("<div>",{id:A});D.prependTo("body")}D.html(C.content);$.getScript(C.scripts[0],function(){n=new idp.login.modal();x(A,B)})},"jsonp")}else{x(A,B)}}function x(A,B){if(!n){return}n.launchModal({elementName:A,idpContentUrl:r.watchAuthUrl+"/login.aspx?version=7&spkey="+r.ssoSpkey,launchCreateAccount:B,ciCodes:{li_submit:"82916",li_signup:"82915",li_help:"82914",li_launch:"82909",li_close:"82912",ca_submit:"82913"},successCallback:function(C){if(C){var D=$("#pc-login-wrapper");var E=$("#pc-logout-wrapper");if(D&&E){D.toggle(!C.IsValid);E.toggle(C.IsValid)}k=l();if(k===false){a()}else{v()}}},reloadData:false})}function a(){var A=b(r.watchDataUrl,"act=3&name="+encodeURIComponent(r.gtld));$.getJSON(A,function(B){k=B===true;v()})}function q(){var A=b(r.watchDataUrl,"act=4&name="+encodeURIComponent(r.gtld));$.getJSON(A,function(B){k=B!==true;v()})}function b(C,A){var B="?";if(C.indexOf("?")>=0){B="&"}return C+B+A}function j(){var A=false;$.ajaxSetup({async:false});var B=r.relativePcDataSetUrl;$.getJSON(B,function(C){if(C){A=C.pcIsTrusted}});$.ajaxSetup({async:true});return A}function h(B){if(typeof r.gTldPreRegPhaseDataJson==="undefined"){return null}var A=$.grep(r.gTldPreRegPhaseDataJson,function(D,C){return D.Code.substring(0,2).toLowerCase()===B.substring(0,2).toLowerCase()});return(A.length==0)?null:A[0]}function g(B){if(typeof r.gTldPreRegPhaseDataJson==="undefined"){return null}var A=$.grep(r.gTldPreRegPhaseDataJson,function(D,C){return D.Code.toLowerCase()===B.toLowerCase()});return(A.length==0)?null:A[0]}function f(A){if(typeof A==="undefined"||A===null){return"nill"}if(typeof A.Prices==="undefined"||A.Prices===null){return"null"}if(typeof A.Prices.TotalCurrent!=="undefined"){if(A.HasIcannFee){if(A.Code=="GA"||A.Code=="ga"){$("#tld-pricetagline").append('<span> <strong style="text-decoration:line-through">'+A.Prices.TotalList+"</em>*</strong>")}return A.Prices.TotalCurrent+"*"}else{if(A.Code.toUpperCase()=="GA"&&r.cctldPrice!==true){$("#cctldPrice").hide();$("#tld-pricetagline").append('<span> <strong style="text-decoration:line-through">'+A.Prices.TotalList+"</em></strong>")}else{if(A.Code.toUpperCase()=="GA"&&r.cctldPrice===true){$("#gtldPrice").hide();$("#tld-pricetagcctld").prepend('<span> <strong style="text-decoration:line-through">'+A.Prices.TotalList+"</em></strong>");$("#FirstYearPrice").html(A.Prices.TotalCurrent);$("#AdditionalYears").html(A.Prices.TotalList)}}$("#limitations-wrap").remove();return A.Prices.TotalCurrent}}if(typeof A.Prices.TotalList!=="undefined"){$("#cctldPrice").hide();if(A.HasIcannFee){return A.Prices.TotalList+"*"}else{$("#limitations-wrap").remove();return A.Prices.TotalList}}return"missing"}$("#tld-priceline span:nth-child(2)").remove();function y(){if(r.tldLogoImageExists===true){var A=r.tldLogoFileName.split("|");if(A.length>1&&r.isEnMarket===false){$("#gtld-logo > img").attr("src",r.tldLogoImageFilePath+A[1])}else{$("#gtld-logo > img").attr("src",r.tldLogoImageFilePath+A[0])}}else{$("#gtld-logo").hide()}}function d(A){window.console&&window.console.log&&window.console.log(A)}function c(A){window.console&&window.console.dir&&window.console.dir(A)}function o(){var A=(r.tldH1TagExists!==true);if(A){window.location=r.redirectUrl}return A}this.Initialize=function(A){r=$.extend({},e,A);y();u();s()};this.SetupGeneralAvailability=function(){if(o()){return}t();var A=h("ga");var B=f(A);$("#ga-head-price").html(B);$("#tld-pricetagline,#tld-priceline").show();$("#tld-pricetagcctld").show();$("#gtldPrice span:nth-child(2)").remove();if(r.cctldPrice===true){$("#cctldPrice #tld-priceline span:nth-child(1)").html(B)}};this.SetupPreReg=function(){if(o()){return}t();var A=h("ga");$("#div-ga-pre-registration").show();$("#ga-dates-before").hide();$("#ga-dates-during").hide();var B=f(A);$("#ga-price").html(B);$("#pre-reg-price").html(B);$("#tld-pricetagline,#tld-priceline").show();var F=h("lr");if(F===null||F.Status===p.CLOSED){var C=h("er")!=null;if(C){var E="";var D=false;for(var G=1;G<=5;G++){var H=g("er"+G);if(H&&H.Status!=p.CLOSED){var I=f(H);var K=H.LiveStartDate+" "+H.LiveStartTime;E+=r.earlyAccessPricingTemplate.replace("{0}",G).replace("{1}*",I);E+=r.earlyAccessDateTemplate.replace("{0}",K);D=true}}if(E.length>0){r.$lrEarlyAccessDiv.html(E).show();r.$lrNotEarlyAccessDiv.hide()}if(D){$("#div-lr-priority").show()}}else{$("#div-lr-priority").hide()}}else{$("#lr-dates-before").hide();$("#prereg-lr-before").text(F.StartDate+" "+F.StartTime);$("#prereg-lr-during").text(F.EndDate+" "+F.EndTime);$("#lr-price").html(f(F));$("#div-lr-priority").show()}var J=h("sr");if(J===null||J.Status===p.CLOSED){$("#div-sr-trademark").hide()}else{$("#sr-dates-before").hide();$("#sr-dates-during").hide();$("#prereg-sr-before").text(J.StartDate+" "+J.StartTime);$("#prereg-sr-during").text(J.EndDate+" "+J.EndTime);$("#sr-price").html(f(J));$("#div-sr-trademark").show()}$("#ga-price-dur, #sr-price-dur , #lr-price-dur").remove()};this.SetupWatch=function(){if(o()){return}$.ajaxSetup({cache:false});if(j()===true){k=l()}$("#watch-button").show().click(z);v()}}}domains.controls.gtldTemplatesClient=new domains.controls.cds_gtld_templates();