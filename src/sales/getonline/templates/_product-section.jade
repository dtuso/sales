mixin renderProductSection(product)

  case product
    when "wsb"
      - var productToDisplay = {}
      - productToDisplay.productId = "wsb"
      - productToDisplay.productTitle = "Website Builder"
      - productToDisplay.marqueeImage = "[@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/img-websiteBuilder-monitor3.png"
      - productToDisplay.youTubeId = "-HtVJyxSQmw"
      - productToDisplay.videoInfoText = "What is Website Builder?"
      - productToDisplay.info = "Website builder stuff here"
      include ../../../templates/wsb-templates.html
    when "onlinestore"
      - var productToDisplay = {}
      - productToDisplay.productId = "onlinestore"
      - productToDisplay.productTitle = "Online Store"
      - productToDisplay.marqueeImage = "[@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/img-onlinestore-monitor.png"
      - productToDisplay.youTubeId = "rMF9d8-3WBA"
      - productToDisplay.videoInfoText = "What is Online Store?"
      - productToDisplay.info = "Online Store stuff here"
      include ../../../templates/wsb-templates.html
    when "wp"
      - var productToDisplay = {productId: "wsb", productTitle: "Website Builder", info: "Website builder stuff here", cssClass: "<div class='wsb-icon'></div>", price: "$1.00"};
    default
      - var productToDisplay = {}

  append pageStyles
    atlantis:webstash(type="css")
      style.
        /* video button */
        .monitor {height:440px; background-repeat: no-repeat; background-position: center bottom; margin-top:15px; background-size: initial;background-color:transparent;position:relative;}
        .monitor-base {height:87px; background-repeat: no-repeat; background-position: center top; background-size: initial;background-color:transparent;}
        .img-play-green{height:110px; width: 110px; background: no-repeat center bottom; margin:15px auto; cursor: pointer}
        .monitor .video-info {position:absolute!important;bottom:0;top:0;left:0;right:0;}
        .monitor .video-info > .row{position:absolute!important;bottom:-55px;right:0; width:400px;}
        .monitor .video-info > .row h3.h1{font-size:24px; font-family: walsheim-bold;margin:15px 0;}
        .video-marquee-info{position:absolute;top:-85px;right:0;width:400px;}
        /* product specific */

        /* Layout */
        h2{margin-top:0px;margin-bottom:0px;}
        h5{margin-top:0px;margin-bottom:0px;}
        .view-all{margin:20px auto;}
        .half-hero-right{height:214px;background: url([@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/img-halfGuy-right.png) no-repeat center bottom;}

        /* speach bubbles */
        .speach-bubble-right-green {color: #000;font-family: Tungsten, 'Tungsten A', 'Tungsten B', 'Helvetica Neue', 'Segoe UI', Segoe, Helvetica, Arial, 'Lucida Grande', sans-serif;font-size: 28px;font-size: 2.8rem;padding: 10px 20px;text-transform: uppercase;line-height: 1;background: url([@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/img-didYouKnow-email.png) no-repeat center bottom;background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNy4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI4MDIuMTMycHgiIGhlaWdodD0iMTUwLjc0MnB4IiB2aWV3Qm94PSIwIDAgODAyLjEzMiAxNTAuNzQyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA4MDIuMTMyIDE1MC43NDIiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgaWQ9IkJhY2tncm91bmRfeEEwX0ltYWdlXzFfIj4NCjwvZz4NCjxnIGlkPSJTaGFwZV82XzFfIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICI+DQoJPGcgaWQ9IlNoYXBlXzYiPg0KCQk8Zz4NCgkJCTxwb2x5Z29uIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjNzhDMDQ0IiBwb2ludHM9Ijc3Ni41NjQsNzMuMjU4IDc1Mi43NjMsMTguMzI4IDYzMC4zNTQsOC44MjEgDQoJCQkJNTcuMDcyLDAuMzcxIDAuMDY2LDg1LjkzNSA3OC43NzQsMTUwLjM3MiA3NDQuMjYyLDE0MS45MjEgNzY0LjY2NCw5NC4zODUgODAyLjA2Niw4NS45MzUgCQkJIi8+DQoJCTwvZz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==) no-repeat center center;background-size: cover;overflow: visible;}
        .speach-bubble-right-green {color: #000;font-family: Tungsten, 'Tungsten A', 'Tungsten B', 'Helvetica Neue', 'Segoe UI', Segoe, Helvetica, Arial, 'Lucida Grande', sans-serif;font-size: 28px;font-size: 2.8rem;padding: 10px 20px;text-transform: uppercase;line-height: 1;background: url([@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/speach-bubble-left-green.png) no-repeat center bottom;background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNy4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI4MDIuMTMycHgiIGhlaWdodD0iMTUwLjc0MnB4IiB2aWV3Qm94PSIwIDAgODAyLjEzMiAxNTAuNzQyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA4MDIuMTMyIDE1MC43NDIiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgaWQ9IkJhY2tncm91bmRfeEEwX0ltYWdlXzFfIj4NCjwvZz4NCjxnIGlkPSJTaGFwZV82XzFfIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICI+DQoJPGcgaWQ9IlNoYXBlXzYiPg0KCQk8Zz4NCgkJCTxwb2x5Z29uIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjNzhDMDQ0IiBwb2ludHM9Ijc3Ni41NjQsNzMuMjU4IDc1Mi43NjMsMTguMzI4IDYzMC4zNTQsOC44MjEgDQoJCQkJNTcuMDcyLDAuMzcxIDAuMDY2LDg1LjkzNSA3OC43NzQsMTUwLjM3MiA3NDQuMjYyLDE0MS45MjEgNzY0LjY2NCw5NC4zODUgODAyLjA2Niw4NS45MzUgCQkJIi8+DQoJCTwvZz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==) no-repeat center center;background-size: cover;overflow: visible;}
        .speach-bubble-right-white {color: #000;font-family: Tungsten, 'Tungsten A', 'Tungsten B', 'Helvetica Neue', 'Segoe UI', Segoe, Helvetica, Arial, 'Lucida Grande', sans-serif;font-size: 28px;font-size: 2.8rem;padding: 10px 20px;text-transform: uppercase;line-height: 1;background: url([@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/speach-bubble-left-white.png) no-repeat center bottom;background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNy4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSI4MDIuMTMycHgiIGhlaWdodD0iMTUwLjc0MnB4IiB2aWV3Qm94PSIwIDAgODAyLjEzMiAxNTAuNzQyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA4MDIuMTMyIDE1MC43NDIiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgaWQ9IkJhY2tncm91bmRfeEEwX0ltYWdlXzFfIj4NCjwvZz4NCjxnIGlkPSJTaGFwZV82XzFfIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICI+DQoJPGcgaWQ9IlNoYXBlXzYiPg0KCQk8Zz4NCgkJCTxwb2x5Z29uIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9Ijc3Ni41NjQsNzMuMjU4IDc1Mi43NjMsMTguMzI4IDYzMC4zNTQsOC44MjEgDQoJCQkJNTcuMDcyLDAuMzcxIDAuMDY2LDg1LjkzNSA3OC43NzQsMTUwLjM3MiA3NDQuMjYyLDE0MS45MjEgNzY0LjY2NCw5NC4zODUgODAyLjA2Niw4NS45MzUgCQkJIi8+DQoJCTwvZz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg==) no-repeat center center;background-size: cover;overflow: visible;}


  atlantis:webstash(type="js")
    script.
      // https://developers.google.com/youtube/player_parameters#IFrame_Player_API
      $(document).ready(function(){
        if(typeof youtubeVideo === 'undefined'){
          window.youtubeVideo = {
            _src: 'https://www.youtube.com/embed/',
            loadVideo: function(videoId, height, width, callback, parameters, container, insertType){
              if(typeof parameters === 'object'){
                var paramString = '';
                
                // add origin to src
                parameters.origin = window.location.protocol+'//'+window.location.host

                if(youtubeVideo._src.indexOf('?') === -1){
                  paramString += '?';
                }else{
                  paramString += '&';
                }

                for(param in parameters){
                  if(paramString.length > 2){
                    paramString += '&';
                  }
                  paramString += param+'='+parameters[param];
                }
                parameters = paramString;
              }
              
              var $video = $('<iframe height="'+height+'" width="'+width+'" style="position:absolute" frameBorder="0" src="'+youtubeVideo._src+videoId+parameters+'" />');

              // append/prepend to container
              if(typeof container === 'string'){
                container = $(container);
              }

              if(typeof insertType === 'undefined' || insertType === 'append'){
                container.append($video);
              }else{
                container.prepend($video);
              }

              if(typeof callback === 'function'){
                $video.load(function(){
                  callback($video[0]);
                });
              }

              return $video[0];
            }
          };
        }
        
        var $containers = $('.video-marquee-wrapper');
        $containers.each(function(){
          var $this = $(this);
          var videoId = $this.data('youtube-id');
          $this.find('.play-button, .cta').bind('click.youtube',function(event){
            // remove this event
            $(event.target).unbind(event.type+'.'+event.handleObj.namespace);

            // load the video
            youtubeVideo.loadVideo(
                videoId,
                '100%',
                '100%',
                function(video){
                    var $videoInfo = $this.find('.video-info');
                    $videoInfo.animate({'opacity':0.0},1000,function(){
                        $videoInfo.css({'display':'none'});
                    });
                    //$(video).css({'opacity':0.0}).animate({'opacity':1.0});
                },
                {'autoplay':1,'controls':2,'showinfo':0,'playsinline':1,'modestbranding':1,'rel':0,'iv_load_policy':3},
                $(".video-marquee"),
                'prepend'
            );
          }).css({'cursor':'pointer'});
        });
      });

  section.white(id=productToDisplay.productId)
    .container
      .row
        div(class=productToDisplay.productId+'-icon',style={'margin-top':'35px'})
      .row
        div.text-center(style={'margin-top':'15px'})
          h2.uppercase(style={'margin-bottom':'0px'}) #{productToDisplay.productTitle}
      .row
        div.text-center
          h4.strong(style={'margin-top':'10px'})
            div 
              | We created website builder to make constructing a website easy
            div
              | See what <mark>BillyBikes.org</mark> could be!
      .row
        div.text-center
          button.btn.btn-default-dark.view-all.btn-md(data-toggle='modal', data-target='#g-modal',data-ci="84003") [@L[cds.sales/gd/hosting/website-builder:sb_view_templates]@L]
    section.video-marquee-wrapper(data-youtube-id="#{productToDisplay.youTubeId}")
      .container
        div(data-lazyload-source!="#{productToDisplay.marqueeImage}", data-ci="xxxxxx", class="lazyload video-marquee video-marquee-black full-video monitor")
        .row
          .col-sm-4
          div(data-lazyload-source!="[@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/img-monitor-base.png", class="lazyload monitor-base col-sm-4")  
          div.video-info.col-sm-4
            div.video-marquee-info.text-center
              div(data-lazyload-source!="[@T[link:<imageroot />]@T]fos/sales/themes/scotty/p4p/img/img-play-green.png", class="lazyload img-play-green play-button")
              h4.uppercase.walsheim-bold !{productToDisplay.videoInfoText}
              button.cta.btn.btn-default-dark.btn-md.uppercase(id='viewAllTemplates',style={'margin':'20px auto'}, data-toggle='modal',data-target='#g-modal') Watch Now
    .container
      .row
        div
          .col-sm-3
            div.half-hero-right(style={'margin-top':'-65px'})
          .col-sm-5.speach-bubble-right-green(style={'margin-top':'-10px'})
            div.speach-bubble-right-div
              h5.uppercase <mark><strong>did you know...</strong></mark>
              h5(style={'margin-top':'10px','text-transform':'none'}) Did you know more than 12 million customers count on GoDaddy to help them find the right domain?  That's roughly the entie population of NYC...and Los Angeles.
  